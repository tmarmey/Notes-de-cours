\documentclass[12pt,a4paper]{article}
\usepackage[utf8]{inputenc}
\usepackage{graphicx}
\graphicspath{{../Images/}}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{hyperref}
\usepackage[margin=1in]{geometry}
\usepackage{subfig}
\usepackage{float}

\author{Thibaut Marmey}

\title{Notes de cours R}
\begin{document}
	\maketitle

\begin{normalsize}
\tableofcontents
\end{normalsize}

\section{Programmation R}
\subsection{Généralité}
\begin{itemize}
\item \href{https://openclassrooms.com/fr/courses/1393696-effectuez-vos-etudes-statistiques-avec-r/1394497-manipuler-et-comparer-plusieurs-vecteurs#/id/r-1394430}{\textit{lien internet : }reprise cours OCR}
\item \href{https://linuxconfig.org/rstudio-on-ubuntu-18-04-bionic-beaver-linux}{\textit{lien internet : }doc d'installation de R et Rstudio}
\item Utilisation de la documentation "aide" : \textit{help()} ou \textit{help("nom de la fonction")} ou  \textit{?log}
\item Documentation plus détaillée sur internet : \textit{help.start()}
\item Interaction avec l'environnement R :
\begin{itemize}
\item liste toutes les variables crées : \textit{ls()}
\item liste des variables avec une succession de lettre particulière : \textit{ls(pattern="mot")}
\item supprimer des variables : \textit{rm(var)}
\item quitter le travail : \textit{q()} ou \textit{quit()}
\end{itemize}
\item Ecrire des commentaires avec "\#"
\item Utiliser la fonction \textit{print()} pour afficher les informations, textes sur la console
\item Enregistrer les variables que l'on veut : 
\newline \textit{save(var1, var2, ..., file = "nameFile.extension")}.
\newline Enregistrement de ces fichiers dans le répertoires associés \textit{Tools/Global Options}, ici c'est Documents/Notes-de-cours/Cours R/Test
\end{itemize}

\subsection{Fonctions}
\begin{itemize}
\item Tester le type d'une variable :
\begin{itemize}
\item \textit{is.character(var)}
\item \textit{is.numeric(var)}
\item \textit{is.logical(var)}
\end{itemize}
\item Spécifier le typage de la variable :
\begin{itemize}
\item \textit{as.numeric(var)}
\item \textit{as.logical(var)}
\item \textit{as.character(var)}
\end{itemize}
\item Renvoyer l'entier inférieur : \textit{floor(nb)}
\item Renvoyer l'entier supérieur : \textit{ceiling(nb)}
\item Arrondir à l'entier le plus proche : \textit{round(nb)}
\item Racine carré : \textit{sqrt()}
\item Fonction trigo : \textit{cos(angleRad), sin, ...}
\item Fonction somme : \textit{sum(vect)}
\item Longueur vecteur : \textit{length(vect)}
\end{itemize}

\subsection{Manipulation de chaînes de caractères}
\begin{itemize}
\item Saisir des données depuis le clavier : \textit{scan()}. Pour valider l'input appuyer sur \textit{entrée}, et un nouvel input appararaîtra. Pour arrêter la prise d'input appuyer directement sur \textit{entrée}.
\item Rentrer le nombre d'input avec l'appel de \textit{scan(nmax=n)}
\item La concaténation de texte et nombre avec \textit{paste(texte, nombres, ...)}
\item Combinaison de \textit{scan()} et \textit{paste()} : \textit{paste('Bonjour j'ai ', scan(nmax=1), ' ans')}
\item Permet de compter le nombre de lettres présentes dans la chaîne de caractères : \textit{nchar("chaîne")}
\item Mettre les caractères en majuscules ou minuscules : \textit{toupper(), tolower()}
\item Extraire une sous chaîne de caractères avec point de départ et d'arrivée inclus : \textit{substr("chaine", start, stop)}. La chaîne de caractères commence à 1.
\end{itemize}

\subsection{Gestion de données complexes}
\begin{itemize}
\item Le vecteur : élément de base du langage, c'est une liste d'éléments étant tous du même type.
\begin{itemize}
\item Spécifier deux attributs : le type de ces éléments et la longueur du vecteur (nb d'éléments)
\item Les fonctions prennent toutes des vecteurs en paramètre. Elles renverrons le résultat sous la forme d'un vecteur de longueur (généralement) égale à la longueur du vecteur d'entrée.
\item Différentes méthodes pour créer un vecteur :
\begin{itemize}
\item la fonction \textit{vector(type, length)} 
\newline \textit{ex : vector("numeric", 10)} crée un vecteur de 10 éléments tous égaux à 0.
\newline Les valeurs par défaut sont 0 (numeric), "" (character), FALSE (logical).
\item les fonctions \textit{numeric(length), character(length), logical(length)}
\end{itemize}
\item Générer des séries de nombres
\begin{itemize}
\item Suite d'un nombre à un autre : \textit{nb1:nb2}
\item Suite d'un nombre répété : \textit{rep(element, length)}
\item Séquence de nombres : \textit{seq(start, stop, step)}
\end{itemize}
\end{itemize}
\item Concaténer plusieurs vecteurs (ils doivent contenir les mêmes types de variables) : 
\newline \textit{c(vect1, vect2, ...)} (bonne méthode pour créer rapidement un vecteur avec des valeurs directement attribuées ex: \textit{c(70, 50, 10, 0, 5)})
\item Nommer les éléments du vecteur : 
\newline \textit{names("nom1", "nom2", rep(NA,2), "nom3", ...)} (ici permet de nommer des éléments et d'en laisser 2 sans nom)
\item Indexation numériques : travailler seulement sur une sous partie d'un vecteur. Les éléments des vecteurs sont indéxés de 1 jusqu'au dernier.
\begin{itemize}
\item Accéder à un élément du vecteur via son index : \textit{vect1[index]}
\item Accéder à plusieurs éléments du vecteur : 
\newline \textit{vect1[nb1:nb2], vect1[c(index1, index2, ...)]} il est en fait possible d'utiliser toutes les fonctions de séquences ou listes de nombres comme index.
\item Utiliser des booléens pour sélectionner les éléments à récupérer :
\newline \textit{vect1[vect1 $\rangle$ 7]} (on récupère ici tous les éléments de vect1 qui sont supérieur à 7).
\item Utiliser les noms des éléments : \textit{vect1[c("nom1", "nom2")]}
\end{itemize}
\item Modifier un élément du vecteur : \textit{vect1[index] = valeur} (sachant que index peut être des fonctions telles que \textit{c()}, \textit{nb1:nb2}, etc...
\end{itemize}

\subsection{Opérations sur des vecteurs}
\begin{itemize}
\item Addition sur vecteur : \textit{vect1 = vect1 + 1} (+1 à tous les éléments)
\newline Dans ce cas là, R prend le plus grand vecteur pour y effectuer l'opération à partir du vecteur plus court.
\newline \textit{vect1 = vect1 + c(nb1, nb2,...)} (revoie d'un avertissement si le grand vecteur n'est pas un multiple du petit vecteur)
\item Connaître la longueur d'un objet : \textit{length()}
\item Sélectionner seulement certains éléments :
\begin{itemize}
\item Les premiers éléments : \textit{head(nb d'éléments)}
\item Les derniers éléments : \textit{tail(nb d'éléments)}
\end{itemize}
\item Triez les vecteurs :
\begin{itemize}
\item \textit{sort()} renvoie un nouveau vecteur contenant les mêmes éléments mais triés dans l'ordre.
\newline Dans l'ordre croissant : \textit{sort(vect1)}
\newline Dans l'ordre décroissant : \textit{sort(vect1, decreasing=True)}
\newline Dans le cas des caractères, la priorité est donnée aux majuscules, ainsi un "a" sera placé après un "Z". Pour contourner ce problème, utiliser les fonctions \textit{toupper()} ou \textit{tolower()}.
\item \textit{order()} renvoie l'ordre des éléments via leur indice.
\newline $\rangle$ [1] 2 5 4 1 3 (ce résultat indique que l'élément d'index 2 est le plus petit, suivi de l'index 5, 4, 1 et 3)
\item \textit{rank()} renvoie le rang de l'élément au sein de la distribution. Par défaut le \textit{ties.method} est \textit{average} ce qui implique que si plusieurs éléments sont de même rang la fonction attribuera ainsi la moyenne de ses rangs.
\end{itemize}
\end{itemize}

\subsection{Analyses statistiques sur des vecteurs}
\begin{itemize}
\item Analyser la distribution d'un vecteur consiste à calculer diférentes valeur sur celui ci : la moyenne, la médiane ou la variance par exemple.
\item Calculer la moyenne : \textit{mean(vect1)}
\item Calculer la médiane : \textit{median(vect1}
\newline La médiane permet de répartir deux parties en un même nombre d'élément. C'est en fait la valeur centrale de la distribution.
\item En présence de valeurs NA dans la distribution, utiliser l'argument facultatif : \textit{na.rm = TRUE}.
\item Mesurer la dispersion d'une distribution : 
\begin{itemize}
\item les fonctions \textit{min()} et \textit{max()}. Utiliser \textit{na.rm} si présence de NA.
\item Les quantiles sont les valeurs permettant de séparer une distribution ordonnée de valeurs en q sous-distributions.
\newline Généralement on calcule les quartiles c'est à dire on sépare la distribution en 4-quantiles.
\newline Utiliser la fonction \textit{quantile(vect1)}
\item La fonction tout en un : \textit{summary(vect1)} renvoie :
\begin{itemize}
\item la valeur min
\item le premier quartile (25\%)
\item la médiane (ou second quartile (50\%)
\item la moyenne
\item le troisième quartile (75\%)
\item la valeur max
\end{itemize}
\item La variance mesure la dispersion par rapport à la moyenne. Elle prend une valeur grande si les éléments de la distribution sont généréralement éloignés de la moyenne ou une valeur petite si ces éléments sont au contraire resserrés près de la moyenne.
\newline Calcul de la variance : \textit{var(vect1)}
\newline Calcul de l'écart-type : \textit{sd(vect1)}
\end{itemize}
\end{itemize}

\subsection{Manipuler et comparer plusieurs vecteurs}
\begin{itemize}
\item Faire l'union de deux deux ensembles : \textit{union(vect1, vect2)} 
\newline \textit{union(names(vect1), names(vect2))} (cette fonction retourne l'ensemble des éléments se trouvant dans au moins un de ces vecteurs)
\item Faire l'intersection des ensmbles pour savoir quels sont les éléments présents dans les tous les vecteurs en argument : \textit{intersect(vect1, vect2)}
\item Isoler les éléments qui ne sont pas commun aux vecteurs placés en argument : \textit{setdiff(x, y)} (renvoie les éléments de x qui ne sont pas dans y)
\newline Cette fonction est asymétrique c'est à dire que l'ordre des arguments modifie le résultat en sortie.
\item L'opérateur \textit{\%in\%} renvoie un vecteur d'éléments logiques de la même taille que le premier vecteur référencé à son appel : \textit{x \%in\% y}
\newline Utilisation : \textit{vect1[names(vect1) \%in\% vect2]}
\item Ordonner les vecteurs de manière réciproque : certaines fonctions ont besoin de vecteurs qui sont ordonnées dans le même ordre.
\begin{itemize}
\item Commencer par avoir un vecteur de nom obtenu par : 
\newline \textit{commun = intersect(names(vect1), names(vect2))}
\item Utiliser ce vecteur de nom commun pour récupérer dans le même ordre les éléments de vect1 et vect2
\newline \textit{vect1-2 = vect1[commun]}
\newline \textit{vect2-2 = vect2[commun]}
\newline Ainsi les deux vecteurs \textit{vect1-2} et \textit{vect2-2} sont ordonnés de la même manière avec le même nombre d'éléments.
\end{itemize}
\item Trier ses données. Lorsque l'on veut trier un des vecteurs, on veut garder la réciprocité de l'ordre des éléments avec l'autre vecteur. Pour cela on veut récupérer les indices des éléments qui sont triés.
\begin{itemize}
\item Utiliser la fonction \textit{order()}. Utiliser le même vecteur avec order :
\newline \textit{vect1-tri = vect1-2[order(vect1-2)]}
\newline \textit{vect2-tri = vect2-2[order(vect1-2)]}
\newline On obtient alors deux vecteur dont les éléments sont classés et dans même ordre.
\end{itemize}
\end{itemize}

\subsection{Corrélations et régression linéaire}
\begin{itemize}
\item Calculer la corrélation entre deux variables revient à calculer l'intensité de leur liaison. Ce coefficient est compris entre -1 et 1. Plus le coefficient est proche de ces valeurs extrèmes, plus la liaison est forte. Si à l'inverse le coefficient est proche de 0, la liaison est faible ce qui veut aussi dire que les données sont linéairement indépendantes.
\item Il est possible que ces données soient corrélées de manière non linéaire. 
\begin{itemize}
\item Un coefficient entre 0 et 1 indique que les deux séries de données évoluent dans le même sens.
\item Inversement, si le coefficient est compris entre -1 et 0.
\end{itemize}
\item Calculer un \textbf{coefficient de corrélation linéaire} : \textit{cor(x,y)}
\newline Attention : x et y doivent être de la même taille et contenir des éléments numériques
\newline Les deux données doivent être réciproques (premier élément de x correspond au premier élément de y et ainsi de suite)
\item Calcul des coefficients de la \textbf{régrétion linéaire} \textit{y = a*x + b}
\newline Utiliser la fonction : \textit{lm()}
\newline Cette fonction prend comme premier argument une formule : \textit{formula = y ~ x} (étudier le comportement de y en fonction de x)
\end{itemize}

\end{document}








